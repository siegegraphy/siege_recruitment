async function loadOperator() {
  const params = new URLSearchParams(window.location.search);
  const op = params.get("op");

  if (!op) {
    alert("No operator found");
    return;
  }

  const script = document.createElement("script");
  script.src = `Operators/${op}.js`;

  script.onload = () => {
    const data = operatorData;

    document.getElementById("operatorIcon").src = data.icon;
    document.getElementById("codename").textContent = data.codename;

    document.getElementById("side-image").src = data.side.image;
    document.getElementById("side-text").textContent = data.side.text;

    document.getElementById("squad-image").src = data.squad.image;
    document.getElementById("squad-text").textContent = data.squad.text;

    document.getElementById("specialty-output").textContent = data.specialty;

    document.getElementById("health-image").src = data.health;
    document.getElementById("speed-image").src = data.speed;

    insertImages("primary-container", data.primaryWeapons);
    insertImages("secondary-container", data.secondaryWeapons);
    insertImages("gadget-container", data.gadgets);

    document.getElementById("unique-ability-image").src = data.uniqueAbility;

    document.getElementById("description").value = data.description;
    document.getElementById("biography").value = data.biography;

    fitAllTextareas();
  };

  document.body.appendChild(script);
}
